{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cobranca.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CreateEditModalComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function CreateEditModalComponent_div_0_Template_span_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"Add Cobranca\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function CreateEditModalComponent_div_0_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addCobranca());\n    });\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 5);\n    i0.ɵɵtext(9, \"Valor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function CreateEditModalComponent_div_0_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.newCobranca.valor = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"label\", 7);\n    i0.ɵɵtext(13, \"Data Vencimento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function CreateEditModalComponent_div_0_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.newCobranca.dataVencimento = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 9);\n    i0.ɵɵtext(17, \"Descri\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function CreateEditModalComponent_div_0_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newCobranca.descricao = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"button\", 11);\n    i0.ɵɵtext(20, \"Add Cobranca\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newCobranca.valor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newCobranca.dataVencimento);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newCobranca.descricao);\n  }\n}\nexport class CreateEditModalComponent {\n  constructor(cobrancaService) {\n    this.cobrancaService = cobrancaService;\n    this.cobrancaAdded = new EventEmitter();\n    // @Input() clienteId: number = 0;\n    this._clienteId = 0;\n    this.newCobranca = {\n      id: 0,\n      clienteId: 0,\n      valor: 0,\n      dataVencimento: new Date(),\n      pago: false,\n      descricao: ''\n    };\n    this.showModal = false;\n  }\n  get clienteId() {\n    return this._clienteId;\n  }\n  set clienteId(id) {\n    this._clienteId = id;\n    this.openModal(id);\n  }\n  openModal(clienteId) {\n    console.log('on openModal:', clienteId);\n    this.newCobranca.clienteId = clienteId;\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n  addCobranca() {\n    this.cobrancaService.createCobranca(this.newCobranca).subscribe(cobranca => {\n      this.cobrancaAdded.emit(cobranca);\n      this.closeModal();\n    });\n  }\n  static #_ = this.ɵfac = function CreateEditModalComponent_Factory(t) {\n    return new (t || CreateEditModalComponent)(i0.ɵɵdirectiveInject(i1.CobrancaService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateEditModalComponent,\n    selectors: [[\"app-cobranca-modal\"]],\n    inputs: {\n      clienteId: \"clienteId\"\n    },\n    outputs: {\n      cobrancaAdded: \"cobrancaAdded\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"modal\", 4, \"ngIf\"], [1, \"modal\"], [1, \"modal-content\"], [1, \"close\", 3, \"click\"], [3, \"ngSubmit\"], [\"for\", \"valor\"], [\"id\", \"valor\", \"type\", \"number\", \"name\", \"valor\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dataVencimento\"], [\"id\", \"dataVencimento\", \"type\", \"date\", \"name\", \"dataVencimento\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descricao\"], [\"id\", \"descricao\", \"name\", \"descricao\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"]],\n    template: function CreateEditModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CreateEditModalComponent_div_0_Template, 21, 3, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n      }\n    },\n    dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAAsB,eAAe;;;;;;;;ICArEC,8BAAqC;IAEXA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,sBAAO;IAAAA,iBAAO;IACzDA,0BAAI;IAAAA,4BAAY;IAAAA,iBAAK;IACrBA,+BAAiC;IAA3BA;MAAAA;MAAA;MAAA,OAAYA,mCAAa;IAAA,EAAC;IAC9BA,2BAAK;IACgBA,sBAAM;IAAAA,iBAAQ;IACjCA,iCAAsF;IAAtDA;MAAAA;MAAA;MAAA,OAAaA,iDAAyB;IAAA,EAAP;IAA/DA,iBAAsF;IAExFA,4BAAK;IACyBA,iCAAgB;IAAAA,iBAAQ;IACpDA,iCAA+G;IAAxEA;MAAAA;MAAA;MAAA,OAAaA,0DAAkC;IAAA,EAAP;IAA/EA,iBAA+G;IAEjHA,4BAAK;IACoBA,qCAAU;IAAAA,iBAAQ;IACzCA,kCAA2E;IAArDA;MAAAA;MAAA;MAAA,OAAaA,qDAA6B;IAAA,EAAP;IAAzDA,iBAA2E;IAE7EA,mCAAsB;IAAAA,6BAAY;IAAAA,iBAAS;;;;IAVTA,gBAA+B;IAA/BA,kDAA+B;IAIxBA,eAAwC;IAAxCA,2DAAwC;IAIzDA,eAAmC;IAAnCA,sDAAmC;;;ADPnE,OAAM,MAAOC,wBAAwB;EAQnCC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAPzB,kBAAa,GAAG,IAAIJ,YAAY,EAAY;IAEtD;IACA,eAAU,GAAW,CAAC;IACtB,gBAAW,GAAa;MAAEK,EAAE,EAAE,CAAC;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,cAAc,EAAE,IAAIC,IAAI,EAAE;MAAEC,IAAI,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAE,CAAE;IACjH,cAAS,GAAY,KAAK;EAE6B;EAEvD,IAAWL,SAAS;IAClB,OAAO,IAAI,CAACM,UAAU;EACxB;EACA,IACWN,SAAS,CAACD,EAAS;IAC5B,IAAI,CAACO,UAAU,GAAGP,EAAE;IACpB,IAAI,CAACQ,SAAS,CAACR,EAAE,CAAC;EACpB;EACAQ,SAAS,CAACP,SAAiB;IACzBQ,OAAO,CAACC,GAAG,CAAC,eAAe,EAACT,SAAS,CAAC;IACtC,IAAI,CAACU,WAAW,CAACV,SAAS,GAAGA,SAAS;IACtC,IAAI,CAACW,SAAS,GAAG,IAAI;EACvB;EAGAC,UAAU;IACR,IAAI,CAACD,SAAS,GAAG,KAAK;EACxB;EAEAE,WAAW;IACT,IAAI,CAACf,eAAe,CAACgB,cAAc,CAAC,IAAI,CAACJ,WAAW,CAAC,CAACK,SAAS,CAACC,QAAQ,IAAG;MACzE,IAAI,CAACC,aAAa,CAACC,IAAI,CAACF,QAAQ,CAAC;MACjC,IAAI,CAACJ,UAAU,EAAE;IACnB,CAAC,CAAC;EACJ;EAAC;qBAlCUhB,wBAAwB;EAAA;EAAA;UAAxBA,wBAAwB;IAAAuB;IAAAC;MAAApB;IAAA;IAAAqB;MAAAJ;IAAA;IAAAK;IAAAC;IAAAC;IAAAC;MAAA;QCRrC9B,0EAoBQ;;;QApBYA,oCAAe","names":["EventEmitter","i0","CreateEditModalComponent","constructor","cobrancaService","id","clienteId","valor","dataVencimento","Date","pago","descricao","_clienteId","openModal","console","log","newCobranca","showModal","closeModal","addCobranca","createCobranca","subscribe","cobranca","cobrancaAdded","emit","selectors","inputs","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/adnangonzaga/repos/LocalizaClientes/Localiza.Web/ClientApp/src/app/components/create-edit-modal/app-cobranca-modal.component.ts","/home/adnangonzaga/repos/LocalizaClientes/Localiza.Web/ClientApp/src/app/components/create-edit-modal/app-cobranca-modal.component.html"],"sourcesContent":["import { Component, EventEmitter, Output,Input } from '@angular/core'\nimport { Cobranca } from '../../services/cobranca.model'\nimport { CobrancaService } from '../../services/cobranca.service'\n\n@Component({\n  selector: 'app-cobranca-modal',\n  templateUrl: './app-cobranca-modal.component.html',\n})\nexport class CreateEditModalComponent {\n  @Output() cobrancaAdded = new EventEmitter<Cobranca>();\n\n  // @Input() clienteId: number = 0;\n  _clienteId: number = 0;\n  newCobranca: Cobranca = { id: 0, clienteId: 0, valor: 0, dataVencimento: new Date(), pago: false, descricao: '' };\n  showModal: boolean = false;\n\n  constructor(private cobrancaService: CobrancaService) {}\n  \n  public get clienteId() : number {\n    return this._clienteId\n  }\n  @Input()\n  public set clienteId(id:number) {\n    this._clienteId = id    \n    this.openModal(id);\n  }\n  openModal(clienteId: number): void {\n    console.log('on openModal:',clienteId)\n    this.newCobranca.clienteId = clienteId;\n    this.showModal = true;\n  }\n\n\n  closeModal(): void {\n    this.showModal = false;\n  }\n\n  addCobranca(): void {\n    this.cobrancaService.createCobranca(this.newCobranca).subscribe(cobranca => {\n      this.cobrancaAdded.emit(cobranca);\n      this.closeModal();\n    });\n  }\n}","<div class=\"modal\" *ngIf=\"showModal\">\n    <div class=\"modal-content\">\n      <span class=\"close\" (click)=\"closeModal()\">&times;</span>\n      <h2>Add Cobranca</h2>\n      <form (ngSubmit)=\"addCobranca()\">\n        <div>\n          <label for=\"valor\">Valor:</label>\n          <input id=\"valor\" type=\"number\" [(ngModel)]=\"newCobranca.valor\" name=\"valor\" required>\n        </div>\n        <div>\n          <label for=\"dataVencimento\">Data Vencimento:</label>\n          <input id=\"dataVencimento\" type=\"date\" [(ngModel)]=\"newCobranca.dataVencimento\" name=\"dataVencimento\" required>\n        </div>\n        <div>\n          <label for=\"descricao\">Descrição:</label>\n          <input id=\"descricao\" [(ngModel)]=\"newCobranca.descricao\" name=\"descricao\">\n        </div>\n        <button type=\"submit\">Add Cobranca</button>\n      </form>\n    </div>\n  </div>\n<!-- <div class=\"modal\">\n    <div class=\"modal-content\">\n        <span class=\"close\" (click)=\"closeModal()\">&times;</span>\n        <h2>{{ isEdit ? 'Editar Cliente' : 'Cadastrar Cliente' }}</h2>\n        <form (ngSubmit)=\"save()\">\n            <label for=\"name\">Nome:</label>\n            <input type=\"text\" [(ngModel)]=\"cliente.name\" name=\"name\" required>\n            <label for=\"paginas\">Páginas:</label>\n            <input type=\"number\" [(ngModel)]=\"cliente.paginas\" name=\"paginas\" required>\n            <label for=\"alertas\">Alertas:</label>\n            <input type=\"number\" [(ngModel)]=\"cliente.alertas\" name=\"alertas\" required>\n            <label for=\"atrasos\">Atrasos:</label>\n            <input type=\"number\" [(ngModel)]=\"cliente.atrasos\" name=\"atrasos\" required>\n            <button type=\"submit\" class=\"btn btn-success\">{{ isEdit ? 'Atualizar' : 'Cadastrar' }}</button>\n        </form>\n    </div>\n</div> -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}