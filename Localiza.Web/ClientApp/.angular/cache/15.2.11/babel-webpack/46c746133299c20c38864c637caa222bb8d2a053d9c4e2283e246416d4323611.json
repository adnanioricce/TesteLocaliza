{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cliente.service\";\nimport * as i2 from \"src/app/services/cobranca.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction ClienteTableComponent_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ClienteTableComponent_tr_38_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const cliente_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openCobrancaModal(cliente_r1.id));\n    });\n    i0.ɵɵtext(13, \"Adicionar Cobranca\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ClienteTableComponent_tr_38_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const cliente_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteCliente(cliente_r1.id));\n    });\n    i0.ɵɵtext(15, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cliente_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cliente_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cliente_r1.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cliente_r1.documento);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cliente_r1.telefone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cliente_r1.endereco);\n  }\n}\nexport class ClienteTableComponent {\n  /**\n   *\n   */\n  constructor(clienteService, cobrancaService, fb) {\n    this.clienteService = clienteService;\n    this.cobrancaService = cobrancaService;\n    this.fb = fb;\n    // clienteService: ClienteService\n    this.addCobrancaMsg = {\n      clienteId: 0\n    };\n    this.initAddCobrancaEvent = new Subject();\n    this.isAddingCobranca = false;\n    this.clientes = [];\n    this.newCliente = {\n      id: 0,\n      usuarioId: 0,\n      documento: '',\n      nome: '',\n      telefone: '',\n      endereco: ''\n    };\n    this.isEditing = false;\n    this.currentClienteId = 0;\n    this.newCobranca = {\n      id: 0,\n      clienteId: 0,\n      valor: 0,\n      dataVencimento: new Date(),\n      pago: false,\n      descricao: ''\n    };\n    this.clienteForm = this.fb.group({\n      nome: ['', Validators.required],\n      documento: ['', Validators.required],\n      telefone: ['', Validators.required],\n      endereco: ['', Validators.required]\n    });\n  }\n  get inputToChild() {\n    return this.addCobrancaMsg;\n  }\n  set inputToChild(value) {\n    this.addCobrancaMsg = value;\n  }\n  ngOnInit() {\n    this.loadClientes();\n  }\n  loadClientes() {\n    this.clienteService.loadClientes().subscribe(clientes => {\n      this.clientes = clientes;\n      console.log('clientes:', clientes);\n    });\n  }\n  editCliente(cliente) {\n    if (!this.isEditing) {\n      console.log('client:', cliente);\n      return;\n    }\n    this.clienteService.editCliente(cliente);\n  }\n  deleteCliente(clienteId) {\n    console.log('clienteId:', clienteId);\n    this.clienteService.deleteCliente(clienteId).subscribe(_ => {\n      this.loadClientes();\n    });\n  }\n  addOrUpdateCliente() {}\n  toggleModal(newState) {\n    console.log('newState:', newState);\n    this.isAddingCobranca = newState;\n  }\n  // cobranca operations\n  openCobrancaModal(clienteId) {\n    this.currentClienteId = clienteId;\n    this.initAddCobrancaEvent.next(clienteId);\n    this.isAddingCobranca = true;\n    // this.onAddCobrancaClick.emit(this.currentClienteId)\n    console.log('this.currentClienteId:', this.currentClienteId);\n  }\n  onCobrancaAdded(cobranca) {\n    console.log('New Cobranca Added:', cobranca);\n  }\n  openModal(clienteId) {\n    if (clienteId === 0) {\n      return;\n    }\n    this.newCobranca.clienteId = clienteId;\n  }\n  closeModal() {\n    this.currentClienteId = 0;\n  }\n  addCobranca() {\n    this.cobrancaService.createCobranca(this.newCobranca).subscribe(cobranca => {\n      // this.cobrancaAdded.emit(cobranca);\n      this.closeModal();\n    });\n  }\n  static #_ = this.ɵfac = function ClienteTableComponent_Factory(t) {\n    return new (t || ClienteTableComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.CobrancaService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClienteTableComponent,\n    selectors: [[\"app-cliente-table\"]],\n    decls: 39,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"modal\"], [1, \"modal-content\"], [1, \"close\", 3, \"click\"], [3, \"ngSubmit\"], [\"for\", \"valor\"], [\"id\", \"valor\", \"type\", \"number\", \"name\", \"valor\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dataVencimento\"], [\"id\", \"dataVencimento\", \"type\", \"date\", \"name\", \"dataVencimento\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descricao\"], [\"id\", \"descricao\", \"name\", \"descricao\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n    template: function ClienteTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Clientes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function ClienteTableComponent_Template_span_click_5_listener() {\n          return ctx.closeModal();\n        });\n        i0.ɵɵtext(6, \"\\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h2\");\n        i0.ɵɵtext(8, \"Add Cobranca\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function ClienteTableComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.addCobranca();\n        });\n        i0.ɵɵelementStart(10, \"div\")(11, \"label\", 5);\n        i0.ɵɵtext(12, \"Valor:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function ClienteTableComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.newCobranca.valor = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\")(15, \"label\", 7);\n        i0.ɵɵtext(16, \"Data Vencimento:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ClienteTableComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.newCobranca.dataVencimento = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\")(19, \"label\", 9);\n        i0.ɵɵtext(20, \"Descri\\u00E7\\u00E3o:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function ClienteTableComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.newCobranca.descricao = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"button\", 11);\n        i0.ɵɵtext(23, \"Add Cobranca\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(24, \"table\")(25, \"thead\")(26, \"tr\")(27, \"th\");\n        i0.ɵɵtext(28, \"Id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\");\n        i0.ɵɵtext(30, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\");\n        i0.ɵɵtext(32, \"Documento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\");\n        i0.ɵɵtext(34, \"Telefone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"th\");\n        i0.ɵɵtext(36, \"Endereco\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(37, \"tbody\");\n        i0.ɵɵtemplate(38, ClienteTableComponent_tr_38_Template, 16, 5, \"tr\", 12);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngModel\", ctx.newCobranca.valor);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.newCobranca.dataVencimento);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.newCobranca.descricao);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.clientes);\n      }\n    },\n    dependencies: [i4.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\".container[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n    margin: auto;\\n    padding: 20px;\\n    background-color: #f9f9f9;\\n    border-radius: 8px;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    margin-bottom: 20px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n    padding: 8px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    background-color: #007bff;\\n    color: white;\\n    border: none;\\n    border-radius: 5px;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n    border: 1px solid #ddd;\\n    padding: 8px;\\n    text-align: left;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n    background-color: #f2f2f2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jbGllbnRlLXRhYmxlL2NsaWVudGUtdGFibGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3QiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbmgxIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG5pbnB1dCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBwYWRkaW5nOiA4cHg7XG59XG5cbmJ1dHRvbiB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbn1cblxudGgsIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG50aCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","Subject","i0","ClienteTableComponent","constructor","clienteService","cobrancaService","fb","clienteId","id","usuarioId","documento","nome","telefone","endereco","valor","dataVencimento","Date","pago","descricao","clienteForm","group","required","inputToChild","addCobrancaMsg","value","ngOnInit","loadClientes","subscribe","clientes","console","log","editCliente","cliente","isEditing","deleteCliente","_","addOrUpdateCliente","toggleModal","newState","isAddingCobranca","openCobrancaModal","currentClienteId","initAddCobrancaEvent","next","onCobrancaAdded","cobranca","openModal","newCobranca","closeModal","addCobranca","createCobranca","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/adnangonzaga/repos/LocalizaClientes/Localiza.Web/ClientApp/src/app/components/cliente-table/cliente-table.component.ts","/home/adnangonzaga/repos/LocalizaClientes/Localiza.Web/ClientApp/src/app/components/cliente-table/cliente-table.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnChanges, Output, SimpleChanges,EventEmitter } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { Cliente } from 'src/app/services/cliente.model';\nimport { ClienteService } from 'src/app/services/cliente.service';\nimport { Cobranca } from 'src/app/services/cobranca.model';\nimport { CobrancaService } from 'src/app/services/cobranca.service';\n\n@Component({\n  selector: 'app-cliente-table',\n  templateUrl: './cliente-table.component.html',\n  styleUrls: ['./cliente-table.component.css']\n})\nexport class ClienteTableComponent {  \n  // clienteService: ClienteService\n  addCobrancaMsg:object = {clienteId: 0}\n  initAddCobrancaEvent: Subject<number> = new Subject<number>();\n  isAddingCobranca = false\n  clientes:Cliente[] = []\n  newCliente: Cliente = { id: 0, usuarioId: 0, documento: '', nome: '',telefone: '',endereco:'' };\n  clienteForm: FormGroup;\n  isEditing = false;\n  currentClienteId: number = 0;  \n  newCobranca: Cobranca = { id: 0, clienteId: 0, valor: 0, dataVencimento: new Date(), pago: false, descricao: '' };\n  /**\n   *\n   */\n  constructor(private clienteService:ClienteService,private cobrancaService: CobrancaService,private fb: FormBuilder) {        \n    this.clienteForm = this.fb.group({\n      nome: ['',Validators.required],\n      documento: ['', Validators.required],\n      telefone: ['', Validators.required],\n      endereco: ['', Validators.required]\n    });\n  }\n  public get inputToChild(): object{\n    return this.addCobrancaMsg\n  }  \n  public set inputToChild(value:object) {\n    this.addCobrancaMsg = value\n  }\n  ngOnInit(): void {\n    this.loadClientes()\n  }\n  loadClientes(){\n    this.clienteService.loadClientes().subscribe(clientes => {\n      this.clientes = clientes;\n      console.log('clientes:',clientes)\n    });\n  }\n  editCliente(cliente:Cliente) {    \n    if(!this.isEditing){\n      console.log('client:',cliente)\n      return;\n    }\n    this.clienteService.editCliente(cliente)\n  }\n\n  deleteCliente(clienteId:number) {\n    console.log('clienteId:',clienteId)\n    this.clienteService.deleteCliente(clienteId).subscribe(_ => {      \n      this.loadClientes()\n    });\n  }  \n\n  addOrUpdateCliente() {    \n  }  \n  toggleModal(newState:boolean){\n    console.log('newState:',newState)\n    this.isAddingCobranca = newState\n  }\n  // cobranca operations\n  openCobrancaModal(clienteId: number): void {    \n    this.currentClienteId = clienteId;    \n    this.initAddCobrancaEvent.next(clienteId)\n    this.isAddingCobranca = true\n    // this.onAddCobrancaClick.emit(this.currentClienteId)\n    console.log('this.currentClienteId:',this.currentClienteId)\n    \n  }\n\n  onCobrancaAdded(cobranca: Cobranca): void {    \n    console.log('New Cobranca Added:', cobranca);\n  }\n  openModal(clienteId: number): void {\n    if(clienteId === 0){\n      return;\n    }    \n    this.newCobranca.clienteId = clienteId;            \n  }\n\n\n  closeModal(): void {    \n    this.currentClienteId = 0\n  }\n\n  addCobranca(): void {\n    this.cobrancaService.createCobranca(this.newCobranca).subscribe(cobranca => {\n      // this.cobrancaAdded.emit(cobranca);\n      this.closeModal();\n    });\n  }\n}\n","<div class=\"container\">\n  <h1>Clientes</h1>\n  <!-- <form [formGroup]=\"clienteForm\" (ngSubmit)=\"addOrUpdateCliente()\">\n    <input formControlName=\"nome\" placeholder=\"Nome\" required>\n    <input formControlName=\"documento\" type=\"text\" placeholder=\"Documento\" required>\n    <input formControlName=\"telefone\" type=\"text\" placeholder=\"Telefone\" required>\n    <input formControlName=\"endereco\" type=\"text\" placeholder=\"Endereco\" required>\n    <button type=\"submit\">{{ isEditing ? 'Atualizar' : 'Cadastrar' }}</button>\n  </form> -->\n  <!-- <app-cobranca-modal   \n    [addCobrancaEvent]=\"initAddCobrancaEvent.asObservable()\" \n    (cobrancaAdded)=\"onCobrancaAdded($event)\"\n    (modalStateChange)=\"toggleModal($event)\"    \n    *ngIf=\"isAddingCobranca\"></app-cobranca-modal> -->\n  <div class=\"modal\">\n    <div class=\"modal-content\">\n      <span class=\"close\" (click)=\"closeModal()\">&times;</span>\n      <h2>Add Cobranca</h2>\n      <form (ngSubmit)=\"addCobranca()\">\n        <div>\n          <label for=\"valor\">Valor:</label>\n          <input id=\"valor\" type=\"number\" [(ngModel)]=\"newCobranca.valor\" name=\"valor\" required>\n        </div>\n        <div>\n          <label for=\"dataVencimento\">Data Vencimento:</label>\n          <input id=\"dataVencimento\" type=\"date\" [(ngModel)]=\"newCobranca.dataVencimento\" name=\"dataVencimento\" required>\n        </div>\n        <div>\n          <label for=\"descricao\">Descrição:</label>\n          <input id=\"descricao\" [(ngModel)]=\"newCobranca.descricao\" name=\"descricao\">\n        </div>\n        <button type=\"submit\">Add Cobranca</button>\n      </form>\n    </div>\n  </div>\n  <table >\n    <thead>\n      <tr>\n        <th>Id</th>\n        <th>Nome</th>\n        <th>Documento</th>\n        <th>Telefone</th>          \n        <th>Endereco</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let cliente of clientes\">\n        <td>{{ cliente.id }}</td>\n        <td>{{ cliente.nome }}</td>\n        <td>{{ cliente.documento }}</td>\n        <td>{{ cliente.telefone }}</td>\n        <td>{{ cliente.endereco }}</td>\n        <td>\n          <!-- <button (click)=\"editCliente(cliente)\">Editar</button> -->\n          <button (click)=\"openCobrancaModal(cliente.id)\">Adicionar Cobranca</button>\n          <button (click)=\"deleteCliente(cliente.id)\">Excluir</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  \n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}